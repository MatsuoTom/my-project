# 機能比較: 現在 vs 復元フォルダ (251004_my-project)

## UI構造の違い

| 項目 | 現在のプロジェクト | 復元フォルダ (251004) |
|------|------------------|---------------------|
| **UI方式** | タブベース (`st.tabs`) | ページベース (`st.sidebar.selectbox`) |
| **メニュー数** | 6タブ | 6ページ |

## 機能対応表

| 機能 | 現在 | 復元フォルダ | 実装状況 |
|------|------|-------------|----------|
| **🏠 ホーム** | ✅ tab1 | ✅ "🏠 ホーム" | 両方あり |
| **💰 支払実績** | ✅ tab2 | ✅ "💰 年金支払実績・推定額" | 両方あり |
| **🎯 受給額試算** | ✅ tab3 | ✅ "🎯 年金受給額計算" | 両方あり |
| **🔮 将来予測** | ✅ tab4 | ✅ "📈 推定年収分析" | 両方あり |
| **📊 損益分岐・最適化** | ✅ tab5 | ✅ "📊 損益分岐点・最適化分析" | 両方あり |
| **📋 計算方法** | ✅ tab6 | ✅ "📋 計算方法説明" | 両方あり |

## 詳細機能比較

### 📊 損益分岐点・最適化分析

| 機能 | 現在 | 復元フォルダ | 差分 |
|------|------|-------------|------|
| **損益分岐点計算** | ✅ キャリアモデル連携 | ✅ 固定値ベース | 現在の方が詳細 |
| **累計推移グラフ** | ✅ Plotly | ✅ Plotly | 同等 |
| **最適受給開始年齢** | ✅ 詳細計算 | ✅ 基本計算 | 現在の方が詳細 |
| **投資回収率** | ✅ あり | ✅ あり | 同等 |
| **比較表** | ✅ DataFrame | ✅ DataFrame | 同等 |

### キャリアモデル

| 項目 | 現在 | 復元フォルダ | 差分 |
|------|------|-------------|------|
| **モデル選択** | ❌ 固定 ("default") | ✅ 選択UI (`selectbox`) | 復元フォルダが優位 |
| **モデル種類** | "default", "expanded" | "default", "expanded" | 同等 |
| **説明UI** | ✅ 詳細説明あり | ❌ 説明なし | 現在が優位 |

### データ編集・永続化

| 機能 | 現在 | 復元フォルダ | 差分 |
|------|------|-------------|------|
| **データエディタ** | ✅ `st.data_editor` | ❌ 表示のみ | 現在が優位 |
| **CSV保存** | ✅ `save_df()` | ❌ なし | 現在が優位 |
| **ファイル取込** | ✅ CSV/Excel | ❌ なし | 現在が優位 |
| **ダウンロード** | ✅ CSVダウンロード | ❌ なし | 現在が優位 |

## 復元フォルダから移植すべき機能

### 🔥 優先度高

1. **キャリアモデル選択UI** 
   ```python
   career_model_kind = st.sidebar.selectbox(
       "キャリアモデルを選択", 
       ["default", "expanded"],
       key="career_model_selector"
   )
   ```

### 🟡 優先度中

2. **ページベースUI オプション** - ユーザー選好に応じて
3. **より詳細な計算説明** - 復元フォルダの計算方法説明が詳細

### 🟢 優先度低

4. **マクロ経済スライド** パラメータ設定
5. **厚生年金係数** の動的設定

## 結論

**現在のプロジェクト**は復元フォルダの**全主要機能を含んでいる**が、以下の点で優劣があります：

### 現在の優位点 ✅
- データ編集・永続化機能（大幅優位）
- より詳細な損益分岐・最適化計算
- キャリアモデルの詳細説明
- タブベースの一覧性

### 復元フォルダの優位点 ❌→✅
- **キャリアモデル選択UI** ← **これを移植すべき**
- より詳細なパラメータ調整

## 推奨アクション

**キャリアモデル選択UI** を現在のプロジェクトに追加することで、復元フォルダの機能を完全にカバーできます。