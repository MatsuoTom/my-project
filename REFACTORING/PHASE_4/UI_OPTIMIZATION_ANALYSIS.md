# Task 4.7: UIæœ€é©åŒ–æ¤œè¨Žãƒ¬ãƒãƒ¼ãƒˆ

**æ—¥ä»˜**: 2025å¹´11æœˆ3æ—¥  
**å¯¾è±¡**: Streamlitã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆlife_insurance, pension_calc, investment_simulationï¼‰  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: åˆ†æžå®Œäº†

---

## ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒžãƒªãƒ¼

3ã¤ã®Streamlitã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆ†æžã—ãŸçµæžœã€**ç¾æ™‚ç‚¹ã§ã¯å¤§è¦æ¨¡ãªæœ€é©åŒ–ã¯ä¸è¦**ã¨åˆ¤æ–­ã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã®ç†ç”±ã«ã‚ˆã‚Šã€Task 4.7ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã‚¹ã‚­ãƒƒãƒ—ã—ã€Phase 4ã‚’å®Œäº†ã•ã›ã‚‹ã“ã¨ã‚’æŽ¨å¥¨ã—ã¾ã™ã€‚

### ä¸»è¦ãªç™ºè¦‹äº‹é …

âœ… **è‰¯å¥½ãªè¨­è¨ˆ**:
- Plotlyã‚’ä½¿ç”¨ï¼ˆMatplotlibã‚ˆã‚Šé«˜é€Ÿã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ï¼‰
- ã‚¿ãƒ–æ§‹æˆã§ç”»é¢ã‚’åˆ†å‰²ï¼ˆä¸€åº¦ã«ã™ã¹ã¦ã®è¨ˆç®—ã‚’å®Ÿè¡Œã—ãªã„ï¼‰
- ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒã‚·ãƒ³ãƒ—ãƒ«ï¼ˆDataFrameæ“ä½œãŒåŠ¹çŽ‡çš„ï¼‰

âš ï¸ **æ”¹å–„ã®ä½™åœ°**:
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ãŒæœªä½¿ç”¨ï¼ˆ`@st.cache_data`ï¼‰
- ä¸€éƒ¨ã®è¨ˆç®—ãŒæ¯Žå›žå®Ÿè¡Œã•ã‚Œã‚‹å¯èƒ½æ€§
- ã‚°ãƒ©ãƒ•æç”»ã®æœ€é©åŒ–ä½™åœ°ï¼ˆãŸã ã—ã€ç¾çŠ¶ã§ã¯å•é¡Œãªã—ï¼‰

ðŸ“Š **çµè«–**: ç¾çŠ¶ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã§ååˆ†ã€‚å°†æ¥çš„ã«å¿…è¦ã«ãªã£ãŸæ™‚ç‚¹ã§æœ€é©åŒ–ã‚’å®Ÿæ–½ã€‚

---

## åˆ†æžå¯¾è±¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

### 1. life_insurance/ui/streamlit_app.py

**æ¦‚è¦**: ç”Ÿå‘½ä¿é™ºæ–™æŽ§é™¤åˆ†æžãƒ„ãƒ¼ãƒ«  
**ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: 6,363è¡Œ  
**ä¸»è¦æ©Ÿèƒ½**:
- æ—§ç”Ÿå‘½ä¿é™ºæ–™æŽ§é™¤è¨ˆç®—
- ç¯€ç¨ŽåŠ¹æžœåˆ†æž
- æŠ•è³‡ä¿¡è¨—ã¨ã®æ¯”è¼ƒ
- è©³ç´°åˆ†æžï¼ˆæˆ¦ç•¥ãƒ©ãƒ³ã‚­ãƒ³ã‚°ï¼‰

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**:
- Plotlyï¼ˆã‚°ãƒ©ãƒ•æç”»ï¼‰
- Pandasï¼ˆãƒ‡ãƒ¼ã‚¿å‡¦ç†ï¼‰
- NumPyï¼ˆæ•°å€¤è¨ˆç®—ï¼‰

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è©•ä¾¡**:
- âœ… Plotlyã«ã‚ˆã‚‹é«˜é€Ÿæç”»
- âœ… ã‚¿ãƒ–æ§‹æˆã«ã‚ˆã‚‹æ®µéšŽçš„èª­ã¿è¾¼ã¿
- âš ï¸ ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½æœªä½¿ç”¨
- âš ï¸ è¨ˆç®—é‡ãŒå¤šã„åˆ†æžï¼ˆã‚·ãƒŠãƒªã‚ªåˆ†æžã€ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

### 2. pension_calc/ui/streamlit_app.py

**æ¦‚è¦**: å¹´é‡‘ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼  
**ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: 621è¡Œ  
**ä¸»è¦æ©Ÿèƒ½**:
- ç´ä»˜å®Ÿç¸¾ã®å¯è¦–åŒ–
- å°†æ¥å¹´åŽäºˆæ¸¬
- å¹´é‡‘å—çµ¦é¡ã®è©¦ç®—
- æç›Šåˆ†å²ãƒ»æœ€é©åŒ–åˆ†æž

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**:
- Plotlyï¼ˆã‚°ãƒ©ãƒ•æç”»ï¼‰
- Pandasï¼ˆãƒ‡ãƒ¼ã‚¿å‡¦ç†ï¼‰

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è©•ä¾¡**:
- âœ… Plotlyã«ã‚ˆã‚‹é«˜é€Ÿæç”»
- âœ… ã‚¿ãƒ–æ§‹æˆã«ã‚ˆã‚‹æ®µéšŽçš„èª­ã¿è¾¼ã¿
- âœ… ãƒ‡ãƒ¼ã‚¿é‡ãŒå°ã•ã„ï¼ˆæ•°ç™¾è¡Œç¨‹åº¦ï¼‰
- âš ï¸ ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½æœªä½¿ç”¨

### 3. investment_simulation/ui/streamlit_app.py

**æ¦‚è¦**: NISAæŠ•è³‡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³  
**ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º**: ä¸æ˜Žï¼ˆç¢ºèªå¿…è¦ï¼‰  
**ä¸»è¦æ©Ÿèƒ½**:
- æœˆæ¬¡æŠ•è³‡ãƒ‡ãƒ¼ã‚¿å…¥åŠ›
- éŠ˜æŸ„ãƒžã‚¹ã‚¿ç®¡ç†
- æŠ•è³‡åˆ†æž

**æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯**:
- Streamlitæ¨™æº–æ©Ÿèƒ½
- CSV/JSONãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è©•ä¾¡**:
- âœ… ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ 
- âœ… ãƒ‡ãƒ¼ã‚¿é‡ãŒå°ã•ã„
- âš ï¸ ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½æœªä½¿ç”¨

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æœ€é©åŒ–ã®ææ¡ˆ

### å„ªå…ˆåº¦: é«˜ï¼ˆãŸã ã—ç¾æ™‚ç‚¹ã§ã¯ä¸è¦ï¼‰

#### 1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã®å°Žå…¥

**å¯¾è±¡**: ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒª  
**åŠ¹æžœ**: è¨ˆç®—çµæžœã®å†åˆ©ç”¨ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ”¹å–„  
**å®Ÿè£…é›£æ˜“åº¦**: ä½Ž

**æŽ¨å¥¨å®Ÿè£…ç®‡æ‰€**:

```python
# life_insurance/ui/streamlit_app.py

@st.cache_data(ttl=3600)  # 1æ™‚é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥
def calculate_deduction(annual_premium: float) -> Dict:
    """æŽ§é™¤é¡è¨ˆç®—ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹ï¼‰"""
    calculator = LifeInsuranceDeductionCalculator()
    return calculator.calculate_old_deduction(annual_premium)

@st.cache_data(ttl=3600)
def run_scenario_analysis(
    premium: float,
    years: int,
    income: int,
    **kwargs
) -> Dict:
    """ã‚·ãƒŠãƒªã‚ªåˆ†æžï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹ï¼‰"""
    analyzer = ScenarioAnalyzer()
    return analyzer.analyze(premium, years, income, **kwargs)
```

```python
# pension_calc/ui/streamlit_app.py

@st.cache_data(ttl=3600)
def calculate_pension(
    retirement_age: int,
    pension_start_age: int,
    base_income: int,
    growth_rate: float
) -> Dict:
    """å¹´é‡‘è¨ˆç®—ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹ï¼‰"""
    calculator = putils.PensionCalculator()
    return calculator.calculate(
        retirement_age, pension_start_age, base_income, growth_rate
    )
```

**æœŸå¾…åŠ¹æžœ**:
- åŒã˜ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã®å†è¨ˆç®—ã‚’å›žé¿
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“: æ•°ç§’ â†’ æ•°ãƒŸãƒªç§’
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š

**æ³¨æ„ç‚¹**:
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¤‰ã‚ã‚‹ãŸã³ã«å†è¨ˆç®—ï¼ˆæœŸå¾…é€šã‚Šã®å‹•ä½œï¼‰
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºã®ç®¡ç†ï¼ˆ`ttl`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§åˆ¶å¾¡ï¼‰

### å„ªå…ˆåº¦: ä¸­

#### 2. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ æ“ä½œã®æœ€é©åŒ–

**å¯¾è±¡**: pension_calc, investment_simulation  
**åŠ¹æžœ**: ãƒ‡ãƒ¼ã‚¿å‡¦ç†é€Ÿåº¦ã®å‘ä¸Š  
**å®Ÿè£…é›£æ˜“åº¦**: ä¸­

**æŽ¨å¥¨å®Ÿè£…**:

```python
# ç¾åœ¨ã®å®Ÿè£…ï¼ˆä¾‹ï¼‰
df_filtered = df[df["å¹´åº¦"] >= start_year]
df_filtered = df_filtered[df_filtered["å¹´åº¦"] <= end_year]

# æœ€é©åŒ–å¾Œ
df_filtered = df.query("@start_year <= å¹´åº¦ <= @end_year")
```

**æœŸå¾…åŠ¹æžœ**:
- å°è¦æ¨¡ãƒ‡ãƒ¼ã‚¿: åŠ¹æžœå°ï¼ˆæ•°ãƒŸãƒªç§’ã®æ”¹å–„ï¼‰
- å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿: åŠ¹æžœå¤§ï¼ˆæ•°åã€œæ•°ç™¾ãƒŸãƒªç§’ã®æ”¹å–„ï¼‰

**æ³¨æ„ç‚¹**:
- ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿é‡ã§ã¯åŠ¹æžœãŒé™å®šçš„
- å°†æ¥çš„ã«ãƒ‡ãƒ¼ã‚¿é‡ãŒå¢—ãˆãŸå ´åˆã«æœ‰åŠ¹

#### 3. ã‚°ãƒ©ãƒ•æç”»ã®æœ€é©åŒ–

**å¯¾è±¡**: life_insurance  
**åŠ¹æžœ**: æç”»é€Ÿåº¦ã®å‘ä¸Šã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®å‰Šæ¸›  
**å®Ÿè£…é›£æ˜“åº¦**: ä¸­

**æŽ¨å¥¨å®Ÿè£…**:

```python
# ç¾åœ¨ã®å®Ÿè£…ï¼ˆä¾‹ï¼‰
fig = go.Figure()
for scenario in scenarios:
    fig.add_trace(go.Scatter(...))  # å¤šæ•°ã®ãƒˆãƒ¬ãƒ¼ã‚¹è¿½åŠ 

# æœ€é©åŒ–å¾Œï¼ˆãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰ã«çµ±åˆï¼‰
# 1. ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—ã¦ä¸€åº¦ã«ãƒˆãƒ¬ãƒ¼ã‚¹è¿½åŠ 
# 2. ä¸è¦ãªãƒˆãƒ¬ãƒ¼ã‚¹ã‚’å‰Šé™¤
# 3. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç°¡ç•¥åŒ–

fig = go.Figure()
fig.add_traces([
    go.Scatter(...) for scenario in scenarios[:10]  # æœ€å¤§10ã‚·ãƒŠãƒªã‚ª
])
```

**æœŸå¾…åŠ¹æžœ**:
- æç”»æ™‚é–“: æ•°ç§’ â†’ 1ç§’ä»¥ä¸‹
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 30-50%å‰Šæ¸›

**æ³¨æ„ç‚¹**:
- ç¾çŠ¶ã§ã‚‚ååˆ†é«˜é€Ÿï¼ˆPlotlyã®ãŠã‹ã’ï¼‰
- å¤§è¦æ¨¡ã‚·ãƒŠãƒªã‚ªåˆ†æžã§ã®ã¿åŠ¹æžœ

### å„ªå…ˆåº¦: ä½Ž

#### 4. éžåŒæœŸèª­ã¿è¾¼ã¿

**å¯¾è±¡**: ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒª  
**åŠ¹æžœ**: åˆæœŸè¡¨ç¤ºé€Ÿåº¦ã®å‘ä¸Š  
**å®Ÿè£…é›£æ˜“åº¦**: é«˜

**æŽ¨å¥¨å®Ÿè£…**:
- ã‚¿ãƒ–ã”ã¨ã«é…å»¶èª­ã¿è¾¼ã¿
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®è¡¨ç¤º
- ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã®ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿

**æœŸå¾…åŠ¹æžœ**:
- åˆæœŸè¡¨ç¤º: æ•°ç§’ â†’ 1ç§’ä»¥ä¸‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š

**æ³¨æ„ç‚¹**:
- å®Ÿè£…ãŒè¤‡é›‘
- Streamlitã®åˆ¶ç´„ã«ã‚ˆã‚Šå®Œå…¨ãªéžåŒæœŸã¯å›°é›£
- è²»ç”¨å¯¾åŠ¹æžœãŒä½Žã„

---

## æŽ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å³åº§ã«å®Ÿæ–½ï¼ˆãŸã ã—ã€Phase 4å®Œäº†å¾Œï¼‰

**ãªã—**

ç¾çŠ¶ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã§ååˆ†ã§ã™ã€‚Phase 4ã‚’å®Œäº†ã•ã›ã€Phase 5ï¼ˆCI/CDæ§‹ç¯‰ï¼‰ã«é€²ã‚€ã“ã¨ã‚’æŽ¨å¥¨ã—ã¾ã™ã€‚

### å°†æ¥çš„ã«æ¤œè¨Žï¼ˆPhase 6ã¾ãŸã¯å¿…è¦ã«å¿œã˜ã¦ï¼‰

1. **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã®å°Žå…¥**ï¼ˆå„ªå…ˆåº¦: é«˜ï¼‰
   - å®Ÿè£…æ™‚é–“: 2-3æ™‚é–“
   - åŠ¹æžœ: å¤§
   - å®Ÿè£…é›£æ˜“åº¦: ä½Ž

2. **ã‚°ãƒ©ãƒ•æç”»ã®æœ€é©åŒ–**ï¼ˆå„ªå…ˆåº¦: ä¸­ï¼‰
   - å®Ÿè£…æ™‚é–“: 3-5æ™‚é–“
   - åŠ¹æžœ: ä¸­
   - å®Ÿè£…é›£æ˜“åº¦: ä¸­

3. **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ æ“ä½œã®æœ€é©åŒ–**ï¼ˆå„ªå…ˆåº¦: ä½Žï¼‰
   - å®Ÿè£…æ™‚é–“: 2-3æ™‚é–“
   - åŠ¹æžœ: å°
   - å®Ÿè£…é›£æ˜“åº¦: ä¸­

### ã‚¹ã‚­ãƒƒãƒ—ã‚’æŽ¨å¥¨

- **éžåŒæœŸèª­ã¿è¾¼ã¿**ï¼ˆå„ªå…ˆåº¦: ä½Žï¼‰
  - ç†ç”±: è²»ç”¨å¯¾åŠ¹æžœãŒä½Žã„ã€å®Ÿè£…ãŒè¤‡é›‘
  - ä»£æ›¿æ¡ˆ: ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã§ååˆ†

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æ¸¬å®šï¼ˆå‚è€ƒï¼‰

### ç¾çŠ¶ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ï¼ˆæŽ¨å®šï¼‰

| ã‚¢ãƒ—ãƒª | åˆæœŸè¡¨ç¤º | è¨ˆç®—å®Ÿè¡Œ | ã‚°ãƒ©ãƒ•æç”» | è©•ä¾¡ |
|-------|---------|---------|-----------|------|
| life_insurance | 1-2ç§’ | 2-5ç§’ | 1-2ç§’ | âœ… è‰¯å¥½ |
| pension_calc | 1ç§’ä»¥ä¸‹ | 1-2ç§’ | 1ç§’ä»¥ä¸‹ | âœ… è‰¯å¥½ |
| investment_simulation | 1ç§’ä»¥ä¸‹ | 1ç§’ä»¥ä¸‹ | 1ç§’ä»¥ä¸‹ | âœ… è‰¯å¥½ |

**è©•ä¾¡åŸºæº–**:
- âœ… è‰¯å¥½: 5ç§’ä»¥å†…
- âš ï¸ æ”¹å–„ä½™åœ°: 5-10ç§’
- âŒ æ”¹å–„å¿…è¦: 10ç§’ä»¥ä¸Š

### æœ€é©åŒ–å¾Œã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ï¼ˆæŽ¨å®šï¼‰

| ã‚¢ãƒ—ãƒª | åˆæœŸè¡¨ç¤º | è¨ˆç®—å®Ÿè¡Œ | ã‚°ãƒ©ãƒ•æç”» | æ”¹å–„çŽ‡ |
|-------|---------|---------|-----------|--------|
| life_insurance | 1-2ç§’ | 0.1-1ç§’ | 0.5-1ç§’ | 60-80% |
| pension_calc | 1ç§’ä»¥ä¸‹ | 0.1ç§’ä»¥ä¸‹ | 0.5ç§’ä»¥ä¸‹ | 50-70% |
| investment_simulation | 1ç§’ä»¥ä¸‹ | 0.1ç§’ä»¥ä¸‹ | 0.5ç§’ä»¥ä¸‹ | 50-70% |

**æ³¨æ„**: ã“ã‚Œã‚‰ã¯æŽ¨å®šå€¤ã§ã‚ã‚Šã€å®Ÿéš›ã®æ¸¬å®šãŒå¿…è¦ã§ã™ã€‚

---

## æŠ€è¡“çš„è€ƒå¯Ÿ

### Streamlitã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½

Streamlit 1.18ä»¥é™ã§ã¯ã€`@st.cache`ãŒå»ƒæ­¢ã•ã‚Œã€ä»¥ä¸‹ã®2ã¤ã®ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã«ç½®ãæ›ã‚ã‚Šã¾ã—ãŸ:

1. **`@st.cache_data`**: ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã€APIå‘¼ã³å‡ºã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªãªã©
   - Pickleã§ã‚·ãƒªã‚¢ãƒ«åŒ–
   - TTLï¼ˆTime To Liveï¼‰ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœŸé™ã‚’è¨­å®šå¯èƒ½
   - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¤‰ã‚ã‚‹ãŸã³ã«å†è¨ˆç®—

2. **`@st.cache_resource`**: æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æŽ¥ç¶šãªã©
   - ãƒªã‚½ãƒ¼ã‚¹ã‚’ãã®ã¾ã¾ä¿æŒ
   - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å…±æœ‰

**æŽ¨å¥¨**: æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯`@st.cache_data`ã‚’ä½¿ç”¨

### Plotly vs Matplotlib

**Plotly**ï¼ˆç¾åœ¨ä½¿ç”¨ä¸­ï¼‰:
- âœ… ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ï¼ˆã‚ºãƒ¼ãƒ ã€ãƒ‘ãƒ³ã€ãƒ›ãƒãƒ¼ï¼‰
- âœ… é«˜é€Ÿæç”»
- âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
- âš ï¸ ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã„ï¼ˆWebé…ä¿¡æ™‚ï¼‰

**Matplotlib**ï¼ˆæœªä½¿ç”¨ï¼‰:
- âœ… é™çš„ç”»åƒï¼ˆè»½é‡ï¼‰
- âœ… è±Šå¯Œãªã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚º
- âŒ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ€§ãªã—
- âŒ æç”»é€Ÿåº¦ãŒé…ã„

**çµè«–**: Plotlyã®ç¶™ç¶šä½¿ç”¨ã‚’æŽ¨å¥¨

### ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®æœ€é©åŒ–

**Pandas**ï¼ˆç¾åœ¨ä½¿ç”¨ä¸­ï¼‰:
- âœ… ä½¿ã„ã‚„ã™ã„
- âœ… è±Šå¯Œãªæ©Ÿèƒ½
- âš ï¸ å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã§é…ã„

**ä»£æ›¿æ¡ˆ**ï¼ˆå°†æ¥çš„ã«æ¤œè¨Žï¼‰:
- **Polars**: Pandasäº’æ›ã€Rustãƒ™ãƒ¼ã‚¹ã€é«˜é€Ÿ
- **Dask**: ä¸¦åˆ—å‡¦ç†ã€å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿å‘ã‘
- **Vaex**: ãƒ¡ãƒ¢ãƒªåŠ¹çŽ‡ã€ãƒ“ãƒƒã‚°ãƒ‡ãƒ¼ã‚¿å‘ã‘

**çµè«–**: ç¾çŠ¶ã®ãƒ‡ãƒ¼ã‚¿é‡ã§ã¯Pandasã§ååˆ†

---

## ã¾ã¨ã‚

### ä¸»è¦ãªç™ºè¦‹

1. **ç¾çŠ¶ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã¯è‰¯å¥½**: 3ã¤ã™ã¹ã¦ã®ã‚¢ãƒ—ãƒªãŒ5ç§’ä»¥å†…ã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹
2. **æœ€é©åŒ–ã®ä½™åœ°ã¯ã‚ã‚‹**: ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã€ã‚°ãƒ©ãƒ•æç”»ãªã©
3. **å„ªå…ˆåº¦ã¯ä½Žã„**: è²»ç”¨å¯¾åŠ¹æžœã‚’è€ƒæ…®ã™ã‚‹ã¨ã€Phase 4å®Œäº†ã‚’å„ªå…ˆ

### Task 4.7ã®çµè«–

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: **ã‚¹ã‚­ãƒƒãƒ—ã‚’æŽ¨å¥¨**

**ç†ç”±**:
- ç¾çŠ¶ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã§ååˆ†
- Phase 4ã®ä¸»è¦ç›®æ¨™ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ãƒ†ã‚¹ãƒˆå¯¾å¿œï¼‰ã¯é”æˆæ¸ˆã¿
- æœ€é©åŒ–ã¯å°†æ¥çš„ã«å¿…è¦ã«ãªã£ãŸæ™‚ç‚¹ã§å®Ÿæ–½

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**:
- Task 4.8: README.mdæ›´æ–°ï¼ˆå¿…é ˆï¼‰
- Task 4.9: Phase 4å®Œäº†ç¢ºèªï¼ˆå¿…é ˆï¼‰
- Phase 5: CI/CDæ§‹ç¯‰ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### å°†æ¥çš„ãªæœ€é©åŒ–è¨ˆç”»ï¼ˆPhase 6ï¼‰

**Phase 6: UIæœ€é©åŒ–**ï¼ˆå„ªå…ˆåº¦: ä½Žã€æœŸé–“: 1-2é€±é–“ï¼‰
1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½ã®å°Žå…¥ï¼ˆ2-3æ™‚é–“ï¼‰
2. ã‚°ãƒ©ãƒ•æç”»ã®æœ€é©åŒ–ï¼ˆ3-5æ™‚é–“ï¼‰
3. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ æ“ä½œã®æœ€é©åŒ–ï¼ˆ2-3æ™‚é–“ï¼‰
4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æ¸¬å®šã¨ãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯ï¼ˆ2-3æ™‚é–“ï¼‰

**åˆè¨ˆ**: ç´„10-15æ™‚é–“

---

## æ·»ä»˜è³‡æ–™

- `REFACTORING/PHASE_4/IMPLEMENTATION_PLAN.md` - Phase 4å®Ÿè£…è¨ˆç”»
- `REFACTORING/PHASE_4/COMPLETION_REPORT.md` - Phase 4å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

---

**ä½œæˆæ—¥**: 2025å¹´11æœˆ3æ—¥  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: åˆ†æžå®Œäº†ã€ã‚¹ã‚­ãƒƒãƒ—æŽ¨å¥¨  
**æ¬¡ã®ã‚¿ã‚¹ã‚¯**: Task 4.8ï¼ˆREADME.mdæ›´æ–°ï¼‰
